# Emotion model
## 개요
* 이 곳에는 Emoji class 모델과 Sentiment 모델, 그리고 각 모델을 불러오는 서버가 저장되어 있습니다.

## 서버 설치
* `pip3 install -r requirements.txt`
* scatterlnp package가 /scatter/pingpong/modules/dist 에 있어야합니다.

## 서버 설정 및 필요 파일
* emotion: /scatter/pingpong/emotion_model_data
  - config_service.yaml 참고  
* preprocess: /scatter/pingpong/modules/preprocess
  - space_model.model
  - tokenizer_cohesion_probability.txt
  - typo_correct.txt
  - system_msg_list.txt

## 서버 실행
`python3 run_server.py` 로 서버를 실행하면 emoji class + sentiment model 을 불러오는 backend server 가 실행됩니다.

## 서버에 쿼리 날리기
frontend server 에서 http://ip:port/emotion 로 `{message: query_message(string) }` 를 보내면 response 가 전달됩니다.
* response 구조
  - query: pipelined message. (`string`)
  - top_5_emojies: emoji class 모델 score 로 뽑은 top 5 내림차순 sorted emoji class list. (`list of (emoji name, score)`)
  - posneg: message 의 positive / negative sentiment score. (`float, -1. ~ 1.`)
  - sentiment: sentiment tag model의 score로 뽑은 sentiment tag list. (`list of sentiment tag`)


## Emoji class 모델 정보
### Emoji class
Unicode Emoji, Kakaotalk Emoticon 을 통합한 이모지 클래스 입니다.

| 파일 이름 | 클래스 이름 | 이미지 | 디테일 이모지 | 디테일 이모티콘
|:--:|:--:|:--:|--|--|
| emoji01.png | 하트 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji01.png" width="30"> | ❤️💕😍 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/AACDE7723AD46581714B42B66971C0E5.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/AE058618D37C6DB4CADAE73D525AB274.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/27451626ADA920E0DA7B3BC5A4E3B006.png" width="20">
| emoji02.png | 실연 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji02.png" width="30"> | 💔 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/6E0E3DEB217D1E8F859A22A2EA332D0D.png" width="20">
| emoji03.png | 뽀뽀 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji03.png" width="30"> | 😚😙😘 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/8E5BDC3974E401479729B66D1D6C2373.png" width="20">
| emoji04.png | 미소 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji04.png" width="30"> | 🙂🙃
| emoji05.png | 무표정 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji05.png" width="30"> | 😑😐😕
| emoji06.png | 크게 웃기 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji06.png" width="30"> | 😃😄😀😊 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/CA575128F6A06290C92A9F80B8CAB399.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/1A690A08804516EA61E421477BDEFAD0.png" width="20">
| emoji07.png | 진심이 담긴 미소 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji07.png" width="30"> | ☺️🤗 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/94AD3E7A79F9155769EF814F76FA9BFE.png" width="20">
| emoji08.png | 행복한 크게 웃기 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji08.png" width="30"> | | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/C05D7F33FACADB1303884FFB6762815C.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/E162C78B50F4BC71BB6727B12EAAB38D.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/B68FCD553D1476B809863BE35B9C300F.png" width="20">
| emoji09.png | 긍정적인 부끄러움 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji09.png" width="30"> | 👉👈 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/789D64AD2E45BF5DA8FBB3BA421718DA.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/3D0CB309E010A3D2C1C5608F77466887.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/6F8CDD0A4DBFBCEC96A8CC7F4B6ED308.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/685764A7A7802C384416BB7FDEA5C07E.png" width="20">
| emoji10.png | 장난스러운 웃음 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji10.png" width="30"> | | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/EDB495E7C46DEB265AE56F80CF29A8F0.png" width="20">
| emoji11.png | 웃픔 혹은 폭소 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji11.png" width="30"> | 😂😹 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/127360ECE7FB17045D1F8A4F0C79DE4D.png" width="20">
| emoji12.png | 뿌듯함, 자랑스러움, 우쭐댐 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji12.png" width="30"> | 😌 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/1390F3BAE355326244D6EC96210023B3.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/DE15EBBC5A2E0EBCF930595555AFF20A.png" width="20">
| emoji13.png | 감동 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji13.png" width="30"> | | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/DE39A0E9C92C832A19487B06CC6DF228.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/D8457C3A66E2538690E4BE357C8664CE.png" width="20">
| emoji14.png | 꺄아 신남 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji14.png" width="30"> | 😆 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/AE37133B457B4FE15C62623E02C9C794.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/C3229E54907B2B56C07DE9D0A9A816FA.png" width="20">
| emoji15.png | 근심 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji15.png" width="30"> | 😞 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/3516BC9D6A92CF2E78A565648806CBA0.png" width="20">
| emoji16.png | 슬픈 눈물 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji16.png" width="30"> | 😢 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/4AB0D8AC8365F7A2BA89698B31B1CFD2.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/B7A0DA0BC50A7C5C18AD7501F1437003.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/7309474EDB471A5E33F1DCC4BD88C3BF.png" width="20">
| emoji17.png | 약간 장난스러운 눈물 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji17.png" width="30"> | 😭 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/BDD47D00E89776F9FA595D790096FFE7.png" width="20">
| emoji18.png | 놀람 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji18.png" width="30"> |  | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/DE77D93109BC87E83F714E45173B9509.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/CEB487B759D274C1B3C1ECAAD57034F4.png" width="20">
| emoji19.png | 이럴수가 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji19.png" width="30"> | 😧😦😯 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/C5A8DF2588849ECD554C7EF9E3B304AD.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/C37D1685C9E09C5067EE077E6409CE99.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/12F741AADAE9B87ED2A31275802BD9D3.png" width="20">
| emoji20.png | 끄아악 공포 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji20.png" width="30"> | 😱😨 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/3D8CF56A69909918CDFC0D1E707BAF2C.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/08428FD75356B5DA3F5B325FB41CABBB.png" width="20">
| emoji21.png | 약간 부정적 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji21.png" width="30"> | 🙁☹️😟
| emoji22.png | 장난스러운 심각함 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji22.png" width="30"> | 😒 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/136ED4DED38A6337CBD104E94EE2C384.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/5CFDA1B176B22DC0284D3ED32A0919B4.png" width="20">
| emoji23.png | 삐짐 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji23.png" width="30"> |  | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/02C6D09DE740F7FB4F18E6BA6A7F40D9.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/4F32AE3C59E3F263E52DCD6DDFED6537.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/9DC8D8BB7054BAE59187E6BFB3E189C4.png" width="20">
| emoji24.png | 화남 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji24.png" width="30"> | 😠😡👿😤 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/80CB85FCF792B9A2203596BBFBABCF01.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/A97757703D210772B8DE7CCE2E8B9E88.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/1057BF6AE28CFD51BDE1823A403A7B40.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/F95DD06483714443A704C9F27790BB92.png" width="20">
| emoji25.png | 민망 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji25.png" width="30"> | 😅 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/A740FB0F66139B85302EF332018BC8EB.png" width="20">
| emoji26.png | 곤란 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji26.png" width="30"> | 😥😓😰 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/74C47D0995F0705363AEC6DBF7B5DCE7.png" width="20">
| emoji27.png | 아픔 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji27.png" width="30"> | 🤕😷🤒 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/8A8A75EE5BE99C28FDC339DEA82B9D80.png" width="20">
| emoji28.png | 괴로움 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji28.png" width="30"> | 😫😣😖😩😵 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/36A3BA24A2793A234CF5F77275031C88.png" width="20">
| emoji29.png | 힘듦과 당황 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji29.png" width="30"> | | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/BA99C88C71D3DEC57D974C69C4275B23.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/D5F021F5F3CEA62C053D52E4461FFD9C.png" width="20">
| emoji30.png | 졸림 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji30.png" width="30"> | | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/40B4EC06D8C5B4235B8A98F39736A705.png" width="20">
| emoji31.png | 헤롱 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji31.png" width="30"> | | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/8E930532658436C54F95751958D4FC2C.png" width="20">
| emoji32.png | 반짝 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji32.png" width="30"> | 🌟✨⭐️ | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/4FF43D4F3C6F4D43A5C532157B0105CF.png" width="20">
| emoji33.png | 궁금/고민 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji33.png" width="30"> | 🙄🤔
| emoji34.png | 최악 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji34.png" width="30"> | 👎 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/F9C22FF73BB0C51B2C5570A0B80E0428.png" width="20">
| emoji35.png | 최고 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji35.png" width="30"> | 👍 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/797820087EA5E2A8CDB389DAEF3EDF87.png" width="20">
| emoji36.png | 오케이 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji36.png" width="30"> | 👌⭕️ | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/79E48E0436033789223CE871E3DE0CB3.png" width="20">
| emoji37.png | 노노 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji37.png" width="30"> | 🙅❌
| emoji38.png | 굿나잇 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji38.png" width="30"> | 😴😪 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/0F5CA5ED32A0E4A02C0D4B8BEEF67E9D.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/84DC55BCEA5798333FA4B32CFFBB3C84.png" width="20">
| emoji39.png | 메롱 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji39.png" width="30"> | 😜😝😛 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/8AB29E499C4904C2B97A3A65252F3399.png" width="20">
| emoji40.png | 윙크 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji40.png" width="30"> | 😉 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/9065D3A00357BC548761C25B50D1D1B6.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/48FC4972F4611D0A1AE0FCB813EA9C72.png" width="20">
| emoji41.png | 축하 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji41.png" width="30"> | 🎉🎊 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/C49A4BFEB7DB406A424C9E058AC13AE8.png" width="20">
| emoji42.png | 부탁 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji42.png" width="30"> | 🙏🙇
| emoji43.png | 노래 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji43.png" width="30"> | 🎵🎶 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/C71DB02DB296BA3CF2C4EBBF839B563C.png" width="20">
| emoji44.png | 비밀 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji44.png" width="30"> | 🤐
| emoji45.png | 잘난척 | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/emoji_class/emoji45.png" width="30"> | 😎✌️ | <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/562DF7B55DE1301564678CD2B4422AC5.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/26BB2A0204F01DD8CB2CF279DBA591F3.png" width="20"> <img src="https://github.com/scatterlab/pingpong-api/blob/master/emotion_model/files/assets/4B55FA36AD71ABF2DE0D5C6F992B8D5B.png" width="20">

## Sentiment 모델 정보
### Positive-Negative score
문장의 positve - negative score 를 계산해주는 모델입니다. -1(negative) ~ 1(positive) 사이의 실수 값이 나옵니다.
